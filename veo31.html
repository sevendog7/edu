<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Google VEO 3.1 Prompt Generator</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@300;400;500;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Noto Sans KR', sans-serif;
            background-color: #0f172a; /* Slate 900 */
            color: #e2e8f0;
        }
        .section-card {
            background-color: #1e293b; /* Slate 800 */
            border: 1px solid #334155;
            transition: all 0.2s ease;
        }
        .section-card:hover {
            border-color: #60a5fa; /* Blue 400 */
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
        }
        select, input[type="text"] {
            background-color: #0f172a;
            border-color: #475569;
            color: white;
        }
        select:focus, input:focus {
            ring: 2px;
            ring-color: #3b82f6;
            outline: none;
            border-color: #3b82f6;
        }
        /* Custom Scrollbar */
        ::-webkit-scrollbar {
            width: 8px;
        }
        ::-webkit-scrollbar-track {
            background: #0f172a; 
        }
        ::-webkit-scrollbar-thumb {
            background: #475569; 
            border-radius: 4px;
        }
        ::-webkit-scrollbar-thumb:hover {
            background: #64748b; 
        }
        .json-preview {
            font-family: 'Courier New', Courier, monospace;
            white-space: pre-wrap;
            word-break: break-all;
        }
    </style>
</head>
<body class="min-h-screen flex flex-col">

    <!-- Header -->
    <header class="bg-slate-900 border-b border-slate-700 p-4 sticky top-0 z-10 shadow-md">
        <div class="max-w-7xl mx-auto flex justify-between items-center">
            <div class="flex items-center gap-3">
                <i class="fa-solid fa-video text-blue-500 text-2xl"></i>
                <h1 class="text-xl font-bold bg-gradient-to-r from-blue-400 to-purple-500 bg-clip-text text-transparent">
                    VEO 3.1 Prompt Generator
                </h1>
            </div>
            <button onclick="resetForm()" class="text-sm text-slate-400 hover:text-white transition">
                <i class="fa-solid fa-rotate-right mr-1"></i> 초기화
            </button>
        </div>
    </header>

    <!-- Main Content -->
    <main class="flex-grow p-4 md:p-6 max-w-7xl mx-auto w-full grid grid-cols-1 lg:grid-cols-2 gap-6">
        
        <!-- Left Column: Inputs -->
        <div class="space-y-6">
            
            <div class="bg-blue-900/20 border border-blue-800 p-4 rounded-lg mb-4 text-sm text-blue-200">
                <i class="fa-solid fa-circle-info mr-2"></i>
                VEO 3.1에 최적화된 영문 JSON을 생성합니다. 커스텀 입력란에는 가급적 <strong>영어</strong>로 입력해주세요.
            </div>

            <!-- 1. Subject -->
            <div class="section-card p-5 rounded-xl">
                <div class="flex items-center gap-2 mb-3 text-blue-400 font-semibold">
                    <i class="fa-solid fa-user-tag"></i>
                    <h2>1. 주제 및 피사체 (Subject)</h2>
                </div>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-3">
                    <div>
                        <label class="block text-xs text-slate-400 mb-1">메인 피사체 선택</label>
                        <select id="subjectSelect" class="w-full p-2.5 rounded-lg border text-sm" onchange="updateOutput()">
                            <option value="">선택 안함 (직접 입력)</option>
                            <option value="A cinematic portrait of a cyberpunk woman">사이버펑크 여성</option>
                            <option value="A futuristic sleek sports car">미래형 스포츠카</option>
                            <option value="A cute golden retriever puppy">골든 리트리버 강아지</option>
                            <option value="A majestic dragon with shimmering scales">신비로운 용</option>
                            <option value="A busy chef cooking in a kitchen">요리하는 셰프</option>
                            <option value="An astronaut floating in zero gravity">무중력 상태의 우주비행사</option>
                            <option value="A vast mountain landscape">거대한 산악 풍경</option>
                        </select>
                    </div>
                    <div>
                        <label class="block text-xs text-slate-400 mb-1">세부 묘사 (Custom)</label>
                        <input type="text" id="subjectCustom" placeholder="ex) A red vintage robot" class="w-full p-2.5 rounded-lg border text-sm" oninput="updateOutput()">
                    </div>
                </div>
            </div>

            <!-- 2. Action -->
            <div class="section-card p-5 rounded-xl">
                <div class="flex items-center gap-2 mb-3 text-green-400 font-semibold">
                    <i class="fa-solid fa-person-running"></i>
                    <h2>2. 행동 및 움직임 (Action)</h2>
                </div>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-3">
                    <div>
                        <label class="block text-xs text-slate-400 mb-1">움직임 유형</label>
                        <select id="actionSelect" class="w-full p-2.5 rounded-lg border text-sm" onchange="updateOutput()">
                            <option value="">선택 안함</option>
                            <option value="walking confidently towards the camera">카메라 쪽으로 걸어옴</option>
                            <option value="running fast with motion blur">빠르게 달리기 (모션블러)</option>
                            <option value="looking around with curiosity">주위를 두리번거림</option>
                            <option value="dancing rhythmically">리듬에 맞춰 춤춤</option>
                            <option value="transforming into a liquid form">액체로 변형됨 (Morphing)</option>
                            <option value="exploding into colorful particles">입자로 폭발함</option>
                            <option value="standing still, breathing slowly">가만히 서서 숨쉬기</option>
                        </select>
                    </div>
                    <div>
                        <label class="block text-xs text-slate-400 mb-1">추가 행동 (Custom)</label>
                        <input type="text" id="actionCustom" placeholder="ex) waving hands" class="w-full p-2.5 rounded-lg border text-sm" oninput="updateOutput()">
                    </div>
                </div>
            </div>

            <!-- 3. Background -->
            <div class="section-card p-5 rounded-xl">
                <div class="flex items-center gap-2 mb-3 text-yellow-400 font-semibold">
                    <i class="fa-solid fa-image"></i>
                    <h2>3. 배경 및 환경 (Environment)</h2>
                </div>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-3">
                    <div>
                        <label class="block text-xs text-slate-400 mb-1">배경 설정</label>
                        <select id="bgSelect" class="w-full p-2.5 rounded-lg border text-sm" onchange="updateOutput()">
                            <option value="">선택 안함</option>
                            <option value="in a neon-lit cyber city at night">네온 사인 도시 (밤)</option>
                            <option value="in a dense magical forest with glowing plants">마법의 숲</option>
                            <option value="in a clean white minimalistic studio">화이트 스튜디오</option>
                            <option value="on the surface of Mars">화성 표면</option>
                            <option value="underwater with coral reefs">수중 산호초</option>
                            <option value="in a busy New York street">뉴욕 거리</option>
                            <option value="in a post-apocalyptic ruin">포스트 아포칼립스 폐허</option>
                        </select>
                    </div>
                    <div>
                        <label class="block text-xs text-slate-400 mb-1">배경 디테일 (Custom)</label>
                        <input type="text" id="bgCustom" placeholder="ex) snowy mountains" class="w-full p-2.5 rounded-lg border text-sm" oninput="updateOutput()">
                    </div>
                </div>
            </div>

            <!-- 4. Camera -->
            <div class="section-card p-5 rounded-xl">
                <div class="flex items-center gap-2 mb-3 text-purple-400 font-semibold">
                    <i class="fa-solid fa-video"></i>
                    <h2>4. 카메라 워킹 (Camera)</h2>
                </div>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-3">
                    <div>
                        <label class="block text-xs text-slate-400 mb-1">카메라 무브먼트</label>
                        <select id="cameraSelect" class="w-full p-2.5 rounded-lg border text-sm" onchange="updateOutput()">
                            <option value="Static camera">고정 카메라 (Static)</option>
                            <option value="Slow pan right">오른쪽으로 천천히 패닝</option>
                            <option value="Fast dolly zoom">돌리 줌 (Dolly Zoom)</option>
                            <option value="FPV drone shot flying through">FPV 드론 샷</option>
                            <option value="Low angle tracking shot">로우 앵글 트래킹</option>
                            <option value="Overhead top-down view">탑뷰 (Overhead)</option>
                            <option value="Extreme close-up macro shot">초근접 매크로 샷</option>
                            <option value="Handheld shaky cam">핸드헬드 (흔들림)</option>
                        </select>
                    </div>
                    <div>
                        <label class="block text-xs text-slate-400 mb-1">추가 효과 (Custom)</label>
                        <input type="text" id="cameraCustom" placeholder="ex) wide lens, 35mm" class="w-full p-2.5 rounded-lg border text-sm" oninput="updateOutput()">
                    </div>
                </div>
            </div>

            <!-- 5. Lighting -->
            <div class="section-card p-5 rounded-xl">
                <div class="flex items-center gap-2 mb-3 text-orange-400 font-semibold">
                    <i class="fa-solid fa-lightbulb"></i>
                    <h2>5. 조명 및 분위기 (Lighting)</h2>
                </div>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-3">
                    <div>
                        <label class="block text-xs text-slate-400 mb-1">조명 스타일</label>
                        <select id="lightSelect" class="w-full p-2.5 rounded-lg border text-sm" onchange="updateOutput()">
                            <option value="Natural soft sunlight">자연광 (Soft Sunlight)</option>
                            <option value="Cinematic moody lighting">시네마틱 무드</option>
                            <option value="Cyberpunk neon lights">사이버펑크 네온</option>
                            <option value="Golden hour sunset">골든 아워 (노을)</option>
                            <option value="Dramatic rim lighting">림 라이트 (역광 라인)</option>
                            <option value="Dark horror atmosphere">어두운 공포 분위기</option>
                            <option value="Studio bright lighting">밝은 스튜디오 조명</option>
                        </select>
                    </div>
                    <div>
                        <label class="block text-xs text-slate-400 mb-1">분위기 (Custom)</label>
                        <input type="text" id="lightCustom" placeholder="ex) foggy, misty" class="w-full p-2.5 rounded-lg border text-sm" oninput="updateOutput()">
                    </div>
                </div>
            </div>

            <!-- 6. Style -->
            <div class="section-card p-5 rounded-xl">
                <div class="flex items-center gap-2 mb-3 text-pink-400 font-semibold">
                    <i class="fa-solid fa-palette"></i>
                    <h2>6. 스타일 및 화질 (Style)</h2>
                </div>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-3">
                    <div>
                        <label class="block text-xs text-slate-400 mb-1">비주얼 스타일</label>
                        <select id="styleSelect" class="w-full p-2.5 rounded-lg border text-sm" onchange="updateOutput()">
                            <option value="Photorealistic 8k">실사 (Photorealistic 8K)</option>
                            <option value="3D Disney Pixar style">3D 애니메이션 (픽사 스타일)</option>
                            <option value="Japanese Anime style">일본 애니메이션 스타일</option>
                            <option value="Cinematic film grain">영화 필름 그레인</option>
                            <option value="Unreal Engine 5 render">언리얼 엔진 5 렌더링</option>
                            <option value="Oil painting aesthetic">유화 느낌</option>
                            <option value="Vintage 1980s VHS tape">80년대 VHS 테이프</option>
                        </select>
                    </div>
                    <div>
                        <label class="block text-xs text-slate-400 mb-1">종횡비</label>
                        <select id="ratioSelect" class="w-full p-2.5 rounded-lg border text-sm" onchange="updateOutput()">
                            <option value="16:9">16:9 (와이드)</option>
                            <option value="9:16">9:16 (숏폼/릴스)</option>
                            <option value="1:1">1:1 (스퀘어)</option>
                            <option value="2.35:1">2.35:1 (영화관)</option>
                        </select>
                    </div>
                </div>
            </div>
        </div>

        <!-- Right Column: Output -->
        <div class="lg:sticky lg:top-24 h-fit space-y-4">
            
            <!-- Result Card -->
            <div class="bg-slate-800 border border-slate-700 rounded-xl shadow-xl overflow-hidden">
                <div class="bg-slate-900/50 p-4 border-b border-slate-700 flex justify-between items-center">
                    <h3 class="font-bold text-lg text-white"><i class="fa-solid fa-code mr-2"></i>Generated JSON Prompt</h3>
                    <div class="flex gap-2">
                        <button onclick="copyToClipboard()" id="copyBtn" class="bg-blue-600 hover:bg-blue-700 text-white px-3 py-1.5 rounded text-sm font-medium transition flex items-center">
                            <i class="fa-regular fa-copy mr-2"></i> Copy JSON
                        </button>
                    </div>
                </div>
                
                <div class="p-4 relative group">
                    <textarea id="outputJson" readonly class="w-full h-96 bg-slate-950 text-green-400 p-4 rounded-lg border border-slate-700 font-mono text-sm resize-none focus:outline-none focus:border-blue-500 transition"></textarea>
                    
                    <!-- Copy Feedback Overlay -->
                    <div id="copyFeedback" class="absolute inset-0 bg-slate-900/80 flex flex-col items-center justify-center opacity-0 pointer-events-none transition duration-300">
                        <i class="fa-solid fa-check-circle text-green-500 text-4xl mb-2"></i>
                        <span class="text-white font-bold">복사되었습니다!</span>
                    </div>
                </div>

                <div class="bg-slate-900/50 p-4 border-t border-slate-700">
                    <h4 class="text-xs text-slate-400 uppercase tracking-wider mb-2">Combined Text Prompt (For Simple Copy)</h4>
                    <div id="simplePrompt" class="text-slate-300 text-sm bg-slate-800 p-2 rounded border border-slate-700 select-all cursor-text">
                        프롬프트가 여기에 표시됩니다...
                    </div>
                </div>
            </div>

            <!-- Tips -->
            <div class="bg-gradient-to-br from-indigo-900 to-slate-800 p-4 rounded-xl border border-indigo-700/50">
                <h4 class="text-indigo-200 font-bold mb-2"><i class="fa-solid fa-lightbulb mr-2"></i>Pro Tips</h4>
                <ul class="text-sm text-indigo-100/80 list-disc list-inside space-y-1">
                    <li><strong>VEO 3.1</strong>은 구체적인 물리적 움직임 묘사를 잘 이해합니다.</li>
                    <li>조명(Lighting)과 카메라(Camera) 설정이 영상의 퀄리티를 결정합니다.</li>
                    <li>JSON 형식이 지원되지 않는 툴에서는 하단의 'Simple Prompt'를 사용하세요.</li>
                </ul>
            </div>

        </div>

    </main>

    <footer class="bg-slate-900 border-t border-slate-700 p-6 mt-8 text-center text-slate-500 text-sm">
        <p>&copy; 2024 VEO Prompt Generator. Designed for high-fidelity video generation.</p>
    </footer>

    <script>
        // 초기화
        document.addEventListener('DOMContentLoaded', () => {
            updateOutput();
        });

        function resetForm() {
            document.querySelectorAll('select').forEach(el => el.selectedIndex = 0);
            document.querySelectorAll('input[type="text"]').forEach(el => el.value = '');
            updateOutput();
        }

        function getValue(selectId, customId) {
            const selectVal = document.getElementById(selectId).value;
            const customVal = document.getElementById(customId).value;
            
            if (selectVal && customVal) return `${selectVal}, ${customVal}`;
            if (selectVal) return selectVal;
            if (customVal) return customVal;
            return "";
        }

        function updateOutput() {
            // 1. Get Values
            const subject = getValue('subjectSelect', 'subjectCustom');
            const action = getValue('actionSelect', 'actionCustom');
            const background = getValue('bgSelect', 'bgCustom');
            const camera = getValue('cameraSelect', 'cameraCustom');
            const lighting = getValue('lightSelect', 'lightCustom');
            const style = document.getElementById('styleSelect').value;
            const ratio = document.getElementById('ratioSelect').value;

            // 2. Build Narrative Prompt (The "Magic" string)
            let narrative = "";
            
            // Logic to build a natural sentence
            if (style) narrative += `${style} shot of `;
            if (subject) narrative += `${subject} `;
            else narrative += "a subject ";
            
            if (action) narrative += `${action} `;
            if (background) narrative += `${background}`;
            
            let technical = [];
            if (lighting) technical.push(lighting);
            if (camera) technical.push(camera);
            if (style) technical.push(`style: ${style}`);
            
            const fullPrompt = `${narrative.trim()}. ${technical.join(", ")}`.trim();

            // 3. Construct JSON Object
            const promptObject = {
                "prompt": fullPrompt,
                "parameters": {
                    "subject": subject || "undefined",
                    "action": action || "undefined",
                    "environment": background || "undefined",
                    "camera_movement": camera || "static",
                    "lighting": lighting || "default",
                    "style": style || "realistic",
                    "aspect_ratio": ratio
                },
                "negative_prompt": "blurry, low quality, distorted, watermark, text, bad anatomy, deformed"
            };

            // 4. Update UI
            document.getElementById('outputJson').value = JSON.stringify(promptObject, null, 4);
            document.getElementById('simplePrompt').innerText = fullPrompt;
        }

        function copyToClipboard() {
            const copyText = document.getElementById("outputJson");
            copyText.select();
            copyText.setSelectionRange(0, 99999); // For mobile devices
            
            // Clipboard API usage
            try {
                // Try modern API first
                navigator.clipboard.writeText(copyText.value).then(showSuccess).catch(() => {
                    // Fallback
                    document.execCommand('copy');
                    showSuccess();
                });
            } catch (err) {
                document.execCommand('copy');
                showSuccess();
            }
        }

        function showSuccess() {
            const feedback = document.getElementById('copyFeedback');
            feedback.classList.remove('opacity-0', 'pointer-events-none');
            
            setTimeout(() => {
                feedback.classList.add('opacity-0', 'pointer-events-none');
            }, 1500);
        }
    </script>
</body>
</html>